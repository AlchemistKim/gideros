<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link href="css/bundle_common.css" media="screen" rel="stylesheet" type="text/css" />
<link href="css/bundle_github.css" media="screen" rel="stylesheet" type="text/css" />
<link href="css/extra.css" media="screen" rel="stylesheet" type="text/css" />
<link href="prettify/prettify.css" type="text/css" rel="stylesheet" />
<script type="text/javascript" src="prettify/prettify.js"></script>
<script type="text/javascript" src="prettify/lang-lua.js"></script>
<script type="text/javascript" src="jquery-1.4.4.min.js"></script>

<style>
</style>

<script>

$(document).ready(function(){

	$("code").addClass("prettyprint").addClass("lang-lua");


});


</script>

</head>


<body onload="prettyPrint()">

<div class="site">
<div id="readme" class="blob">
<div class="wikistyle">





	
		<h1>Migrating from v2011.9 to 2012.2</h1>

<h2>Obsolete Functions</h2>

<p>These 4 functions are moved from <code>Stage</code> to <code>Application</code> class:</p>

<ul>
<li><code>Stage:setBackgroundColor</code></li>
<li><code>Stage:getBackgroundColor</code></li>
<li><code>Stage:setOrientation</code></li>
<li><code>Stage:getOrientation</code></li>
</ul>


<hr />

<p>The function <code>Application:getAccelerometer</code> is now obsolete because:</p>

<ul>
<li>It shouldn&rsquo;t belong to <code>Application</code> class at the beginning.</li>
<li>We introduce a more capable <code>Accelerometer</code> class.</li>
</ul>


<hr />

<p>The functions <code>Timer.pauseAllTimers</code> and <code>Timer.resumeAllTimers</code> are renamed as <code>Timer.pauseAll</code> and <code>Timer.resumeAll</code> because:</p>

<ul>
<li>From now on, the function pair <code>pauseAll</code>/<code>resumeAll</code> will be used in many classes like <code>MovieClip</code>, <code>Sound</code>, <code>GTween</code> etc.</li>
</ul>


<p><strong>Note:</strong> Currently, these obsolete functions run as before to ensure backward compatibility. But with the next release, these will be removed from documentation. After 1 year, these will be removed from the runtime. Therefore, it&rsquo;s better to alter your code with the new functions.</p>

<h2>gideros.class</h2>

<p><code>gideros.class</code> is renamed as <code>Core.class</code>. Because the name <code>gideros</code> doesn&rsquo;t fit well with the naming rules of our API. Also, with 2012.2, now it&rsquo;s possible to create your base classes and inherit from them:</p>

<pre><code>A = Core.class()  -- A is a base class
B = Core.class(A) -- B inherits from A
C = Core.class(B) -- C inherits from B
</code></pre>

<p><strong>Note:</strong>: <code>gideros.class</code> is one the core functions. Therefore, we&rsquo;ll never remove it from the runtime.</p>

<h2>Touch events</h2>

<p>When a touch event occurs, <code>event</code> table contains two arrays: <code>touches</code> and <code>allTouches</code>. With 2012.2, we&rsquo;re splitting the touches and instead of the <code>touches</code> array, there is a <code>touch</code> table contains <code>x</code>, <code>y</code> and <code>id</code> fields. To ensure the backward compatibility, <code>event</code> table still contains a <code>touches</code> array with only 1 element. If you&rsquo;re using touch events, please use <code>event.touch</code> instead of <code>event.touches</code>.</p>

<h2>Event.SOUND_COMPLETE</h2>

<p><code>Event.SOUND_COMPLETE</code> event is renamed as <code>Event.COMPLETE</code>:</p>

<pre><code>local sound = Sound.new("mysound.wav")
local soundChannel = sound:play()
soundChannel:addEventListener(Event.COMPLETE, onSoundChannelComplete)
</code></pre>

<p><strong>Note:</strong> Currently, both the events <code>Event.SOUND_COMPLETE</code> and <code>Event.COMPLETE</code> works same for <code>SoundChannel</code> objects. <code>Event.SOUND_COMPLETE</code> is already removed from the documentation. After 1 year, <code>Event.SOUND_COMPLETE</code> will be also removed from the runtime. Therefore, it&rsquo;s better to rename <code>Event.SOUND_COMPLETE</code> to <code>Event.COMPLETE</code> in your exiting code.</p>

<h2>TileMap:setTile</h2>

<p>Previously, to clear a tile 3rd and 4th parameters of <code>TileMap:setTile</code> was given as <code>nil</code>. Now there is <code>TileMap:clearTile</code> function.</p>

<p><strong>Note:</strong>: There is no backward compatibility here. If 3rd or 4th parameters of <code>TileMap:setTile</code> is <code>nil</code>, error occurs.</p>
	



</div>
</div>
</div>

</body>
</html>
