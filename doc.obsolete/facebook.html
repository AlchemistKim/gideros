<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link href="css/bundle_common.css" media="screen" rel="stylesheet" type="text/css" />
<link href="css/bundle_github.css" media="screen" rel="stylesheet" type="text/css" />
<link href="css/extra.css" media="screen" rel="stylesheet" type="text/css" />
<link href="prettify/prettify.css" type="text/css" rel="stylesheet" />
<script type="text/javascript" src="prettify/prettify.js"></script>
<script type="text/javascript" src="prettify/lang-lua.js"></script>
<script type="text/javascript" src="jquery-1.4.4.min.js"></script>

<style>
</style>

<script>

$(document).ready(function(){

	$("code").addClass("prettyprint").addClass("lang-lua");


});


</script>

</head>


<body onload="prettyPrint()">

<div class="site">
<div id="readme" class="blob">
<div class="wikistyle">





	
		<a name="Facebook"></a><h1>Facebook > EventDispatcher</h1>
		<p>Facebook SDK plugin is available for only iOS as an external plugin. To use facebook module:</p>

<ol>
<li>Download and install Facebook SDK from https://developers.facebook.com/ios/downloads/</li>
<li>Add FacebookSDK.framework to your project.</li>
<li>Add the backward compatibility headers as described https://developers.facebook.com/docs/howtos/feed-dialog-using-ios-sdk/#step2</li>
<li>Add {Gideros Installation Directory}/All Plugins/Facebook/source/iOS/* files to your Xcode project.</li>
<li>If enabled, disable &ldquo;Application does not run in background&rdquo; property in .plist file.</li>
</ol>


<p>The <code>Facebook</code> class is defined in module &ldquo;facebook&rdquo;. Therefore, you need to call
<code>require("facebook")</code> before using it. Loading the Facebook module
also creates a global variable <code>facebook</code> of type <code>Facebook</code> for direct use.</p>

<h3>Facebook Events</h3>

<p>The <code>Facebook</code> class dispatches the following events:</p>

<h4>Event.LOGIN_COMPLETE</h4>

<p>Dispatched when the user has logged in with Facebook.</p>

<h4>Event.LOGIN_ERROR</h4>

<p>Dispatched when Facebook login fails.</p>

<h4>Event.LOGIN_CANCEL</h4>

<p>Dispatched when the user cancelled Facebook login.</p>

<h4>Event.LOGOUT_COMPLETE</h4>

<p>Dispatched when the user has logged out with Facebook.</p>

<h4>Event.DIALOG_COMPLETE</h4>

<p>Dispatched when a Facebook dialog has finished.</p>

<h4>Event.DIALOG_ERROR</h4>

<p>Dispatched when a Facebook dialog has failed. <code>event.errorCode</code> and <code>event.errorDescription</code> fields give detailed information about the fail reason.</p>

<h4>Event.DIALOG_CANCEL</h4>

<p>Dispatched when a Facebook dialog is cancelled.</p>

<h4>Event.REQUEST_COMPLETE</h4>

<p>Dispatched when a Facebook graph request returns a response. <code>event.response</code> field contains the raw response of the completed Facebook graph request.</p>

<h4>Event.REQUEST_ERROR</h4>

<p>Dispatched when a Facebook graph request has failed. <code>event.errorCode</code> and <code>event.errorDescription</code> fields give detailed information about the fail reason.</p>
		
	



	
		<a name="Facebook:setAppId"></a><h2>Facebook:setAppId(appId)</h2>
		<p>Initializes the Facebook library and sets App ID. This function should be called first before other functions.</p>

		
			<h4>Parameters:</h4>
			<p>
			

				&nbsp;&nbsp;<strong>appId:</strong>&nbsp;&nbsp;(string) The Facebook application id.</br>

				
			
			</p>
		

		


		

		


	



	
		<a name="Facebook:authorize"></a><h2>Facebook:authorize(permissions)</h2>
		<p>Starts the authorization flow for the user with the requested permissions.</p>

		
			<h4>Parameters:</h4>
			<p>
			

				&nbsp;&nbsp;<strong>permissions:</strong>&nbsp;&nbsp;(table, optional) An array of the requested permissions.</br>

				
			
			</p>
		

		


		

		


	



	
		<a name="Facebook:logout"></a><h2>Facebook:logout()</h2>
		<p>Invalidates the current user session. This method does not unauthorized the application, it simply invalidates the access token. The user can unauthorized the application through the app settings page on the Facebook website.</p>

		

		


		

		


	



	
		<a name="Facebook:isSessionValid"></a><h2>Facebook:isSessionValid()</h2>
		<p>Checks if the access token is available and has not expired.</p>

		

		
			<h4>Returns:</h4>
			<p><code>true</code> if the access token is valid, <code>false</code> otherwise.</p>
		


		

		


	



	
		<a name="Facebook:dialog"></a><h2>Facebook:dialog(action, paramaters)</h2>
		<p>Generate a UI dialog for the desired action.</p>

		
			<h4>Parameters:</h4>
			<p>
			

				&nbsp;&nbsp;<strong>action:</strong>&nbsp;&nbsp;(string) The type of dialog to call. Currently supported methods are oauth, feed, and apprequests.</br>

				
			

				&nbsp;&nbsp;<strong>paramaters:</strong>&nbsp;&nbsp;(table, optional) Table representing parameters specific to a particular dialog.</br>

				
			
			</p>
		

		


		

		


	



	
		<a name="Facebook:graphRequest"></a><h2>Facebook:graphRequest(graphPath, paramaters, method)</h2>
		<p>Makes a request to the Graph API.</p>

		
			<h4>Parameters:</h4>
			<p>
			

				&nbsp;&nbsp;<strong>graphPath:</strong>&nbsp;&nbsp;(string) The path to the Graph API endpoint. For example, to fetch data about the currently logged in user this parameter should be ''me'', representing a call to the https://graph.facebook.com/me endpoint.</br>

				
			

				&nbsp;&nbsp;<strong>paramaters:</strong>&nbsp;&nbsp;(table, optional) Table representing the API call parameters.</br>

				
			

				&nbsp;&nbsp;<strong>method:</strong>&nbsp;&nbsp;(string, optional) HTTP method.</br>

				
			
			</p>
		

		


		

		


	



	
		<a name="Facebook:setAccessToken"></a><h2>Facebook:setAccessToken(accessToken)</h2>
		<p>Sets the access token.</p>

		
			<h4>Parameters:</h4>
			<p>
			

				&nbsp;&nbsp;<strong>accessToken:</strong>&nbsp;&nbsp;(string)</br>

				
			
			</p>
		

		


		

		


	



	
		<a name="Facebook:getAccessToken"></a><h2>Facebook:getAccessToken()</h2>
		<p>Returns the access token.</p>

		

		
			<h4>Returns:</h4>
			<p>The access token.</p>
		


		

		


	



	
		<a name="Facebook:setExpirationDate"></a><h2>Facebook:setExpirationDate(expirationDate)</h2>
		<p>Sets the expiration date.</p>

		
			<h4>Parameters:</h4>
			<p>
			

				&nbsp;&nbsp;<strong>expirationDate:</strong>&nbsp;&nbsp;(string)</br>

				
			
			</p>
		

		


		

		


	



	
		<a name="Facebook:getExpirationDate"></a><h2>Facebook:getExpirationDate()</h2>
		<p>Returns the expiration date;</p>

		

		
			<h4>Returns:</h4>
			<p>The expiration date if it&rsquo;s set, <code>nil</code> otherwise.</p>
		


		

		


	



	
		<a name="Facebook:extendAccessToken"></a><h2>Facebook:extendAccessToken()</h2>
		<p>Extends the access token.</p>

		

		


		

		


	



	
		<a name="Facebook:extendAccessTokenIfNeeded"></a><h2>Facebook:extendAccessTokenIfNeeded()</h2>
		<p>Attempts to extend the access token. The access token expires after a certain amount of time and when you call this method it will be refreshed if it is still active and only after some time has passed since the last refresh. To ensure that you keep the access token fresh for active users, call this method in your <code>Application.RESUME</code> event.</p>

		

		


		

		


	



	
		<a name="Facebook:shouldExtendAccessToken"></a><h2>Facebook:shouldExtendAccessToken()</h2>
		<p>Returns if the access token should be extended.</p>

		

		
			<h4>Returns:</h4>
			<p><code>true</code> if the access token should be extended, <code>false</code> otherwise.</p>
		


		

		


	



</div>
</div>
</div>

</body>
</html>
