<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link href="css/bundle_common.css" media="screen" rel="stylesheet" type="text/css" />
<link href="css/bundle_github.css" media="screen" rel="stylesheet" type="text/css" />
<link href="css/extra.css" media="screen" rel="stylesheet" type="text/css" />
<link href="prettify/prettify.css" type="text/css" rel="stylesheet" />
<script type="text/javascript" src="prettify/prettify.js"></script>
<script type="text/javascript" src="prettify/lang-lua.js"></script>
<script type="text/javascript" src="jquery-1.4.4.min.js"></script>

<style>
</style>

<script>

$(document).ready(function(){

	$("code").addClass("prettyprint").addClass("lang-lua");


});


</script>

</head>


<body onload="prettyPrint()">

<div class="site">
<div id="readme" class="blob">
<div class="wikistyle">





	
		<h1>Classes in Gideros</h1>

<p>Lua does not support classes the way that languages like C++, Java and
ActionScript do. But Lua is a multi-paradigm language and have roots from
prototype-based languages. In Lua, each object can define its own behaviour
through metatables. Therefore, it is possible to emulate OO programming and
classes in Lua.</p>

<p><em>(For the detailed discussion of object oriented programming in Lua, please refer to <a href="http://www.lua.org/pil/16.html">http://www.lua.org/pil/16.html</a>)</em></p>

<p>Gideros follows the same paradigm in its API design. Each instance created by
Gideros API is a Lua table with a metatable attached.</p>

<h2>Creating Instances</h2>

<p>Instances in Gideros is created through <code>new</code> function. For example, to create
a <code>Sprite</code>, <code>Texture</code>, <code>Bitmap</code> and a <code>Timer</code> instance:</p>

<pre><code>local sprite = Sprite.new()
local texture = Texture.new("image.png")
local bitmap = Bitmap.new(texture)
local timer = Timer.new(1000, 0)
</code></pre>

<h2>Inheritance</h2>

<p><code>Core.class</code> function is used to create your own classes through inheritance. You
can create your own classes like:</p>

<pre><code>MyClass = Core.class()
</code></pre>

<p>or inherit from Gideros API&rsquo;s own classes (<code>EventDispatcher</code>, <code>Sprite</code>, etc.). For example, you can create your EventDispatcher class as:</p>

<pre><code>MyEventDispatcher = Core.class(EventDispatcher)
</code></pre>

<p>By using Inheritance, you can design and implement the visual elements of your game separately:</p>

<pre><code>StartButton = Core.class(Sprite)     -- create your own start button class
Menu = Core.class(Sprite)            -- create your own menu class

Player = Core.class(Sprite)          -- create your own player class

function Player:walk()
    -- walk logic
end

function Player:jump()
    -- jump logic
end

stage:addChild(Player.new())            -- create and add a player instance to the stage
</code></pre>

<p>When an instance is created, <code>init</code> function is called to do the initialization:</p>

<pre><code>Player = Core.class(Sprite)

function Player:init()
    -- do the initialization of Player instance
    self.health = 100
    self.speed = 3
end

local player = Player.new()     -- after Player instance is created, init function is called
</code></pre>

<p>Whether to use inheritance or not is related to your programming taste. It&rsquo;s possible to implement
a whole game without creating custom classes. You can refer to &ldquo;Jumping Ball&rdquo; and &ldquo;Jumping Balls&rdquo; examples
to see the difference between designing your code with classes or not.</p>
	



</div>
</div>
</div>

</body>
</html>
